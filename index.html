<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Termo de Entrega — Via Única (A4 v14 • Elegante)</title>
  <style>
    /* A4, estilo clássico, impressão limpa */
    @page { size: A4; margin: 15mm; }

    :root{
      --ink:#111; --line:#000; --muted:#333; --hair:#00000026;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{font-family: "Times New Roman", Times, serif; color:var(--ink); background:#fff}

    .outer{min-height:100%; display:flex; align-items:flex-start; justify-content:center;}
    .sheet{width: 100%; max-width: 700px; margin: 18px auto; padding: 4px 8px 8px; /* sem borda para visual mais limpo */}

    header{display:flex; align-items:center; gap:16px; padding:6px 0 12px; border-bottom:1px solid var(--hair)}
    .logo{width:auto; height:64px; display:flex; align-items:center; justify-content:center; overflow:hidden}
    .logo img{max-height:64px; width:auto; object-fit:contain; display:block}
    .title{flex:1; text-align:center}
    h1{font-size:22px; margin:0 0 2px 0; text-transform:uppercase; letter-spacing:.4px}
    .sub{font-size:12px; margin-top:2px; color:var(--muted)}

    .form{margin-top:10px; border-bottom:1px dashed var(--hair); padding-bottom:10px}
    .row{display:flex; gap:10px; margin:6px 0}
    .row .field{flex:1}

    /* Campos mais elegantes e sem corretor/autocap */
    input, textarea{
      width:100%; border:1px solid var(--hair); padding:8px 10px; font-size:14px; font-family:inherit;
      outline:none;
    }
    input:focus, textarea:focus{border-color:#00000055}
    textarea{min-height:68px; resize:vertical}

    .decl{margin-top:12px; line-height:1.6; font-size:16px; text-align:justify}
    .decl strong{font-weight:bold}

    /* Assinaturas sóbrias */
    .signatures{margin-top:18px}
    .sig-grid{display:grid; grid-template-columns:1fr 1fr; gap:28px; page-break-inside:avoid}
    .sig-box{padding:4px 0}
    .sig-title{font-weight:bold; text-transform:uppercase; font-size:13px; margin:0 0 10px 0; text-align:center; color:var(--muted)}
    .sig-line{margin-top:18px}
    .sig-line .line{border-bottom:1px solid var(--line); height:26px}
    .sig-line .below{font-size:12px; text-align:center; margin-top:3px; color:var(--muted)}
    .stamp{border:1px dashed var(--hair); height:70px; margin-top:14px; display:flex; align-items:center; justify-content:center; font-size:11px; text-transform:uppercase; color:var(--muted)}

    footer{display:flex; justify-content:space-between; align-items:center; margin-top:16px; padding-top:8px; border-top:1px solid var(--hair); font-size:12px; color:var(--muted)}

    .actions{margin:12px auto 0; display:flex; gap:8px; justify-content:center}
    button{font-family:inherit; border:1px solid var(--line); background:#fff; padding:8px 12px; cursor:pointer}

    /* Impressão */
    .print-only{display:none}
    @media print{
      .actions{display:none}
      .sheet{margin:0; padding:0}
      input, textarea{border-color:transparent}
      .print-only{display:inline}
      .sig-grid{break-inside:avoid}
    }
  </style>
</head>
<body>
  <div class="outer">
    <section class="sheet">
      <header>
        <div class="logo" title="Atualize o src abaixo com o caminho do seu logo (JPG/PNG) no repositório)">
          <img id="logo" alt="System Engenharia" src="./assets/logo-system.jpg" />
        </div>
        <div class="title">
          <h1>Termo de Entrega</h1>
          <div class="sub">System Engenharia → Patrimar • <span id="dataHoje"></span> • Nº <span id="numTermo"></span></div>
        </div>
      </header>

      <div class="form">
        <div class="row">
          <div class="field">
            <input id="obra" placeholder="Empreendimento / Obra — Ex.: Atlântico Golf" spellcheck="false" autocapitalize="off" autocomplete="off" autocorrect="off" />
          </div>
          <div class="field" style="max-width:220px">
            <input id="bloco" placeholder="Bloco / Torre / Local — Ex.: Torre B / Subsolo / Reservatório" spellcheck="false" autocapitalize="off" autocomplete="off" autocorrect="off" />
          </div>
          <div class="field" style="max-width:220px">
            <input id="area" placeholder="Área / Unidade / Ambiente (opcional) — Ex.: Casa de Máquinas / Apto 101" spellcheck="false" autocapitalize="off" autocomplete="off" autocorrect="off" />
          </div>
        </div>
        <div class="row">
          <div class="field">
            <textarea id="escopo" placeholder="Serviços entregues (descrição breve) — Ex.: redes de recalque de água potável para os blocos 1, 2 e 3" spellcheck="false" autocapitalize="off" autocomplete="off" autocorrect="off"></textarea>
          </div>
        </div>
        <div class="row">
          <div class="field">
            <input id="obs" placeholder="Observações — Ex.: Conforme projeto e memorial" spellcheck="false" autocapitalize="off" autocomplete="off" autocorrect="off" />
          </div>
        </div>
      </div>

      <div class="decl" id="declaracao"></div>

      <section class="signatures">
        <div class="sig-grid">
          <div class="sig-box">
            <div class="sig-title">Contratante (Patrimar)</div>
            <div class="sig-line"><div class="line"></div><div class="below">ASSINATURA</div></div>
            <div class="sig-line"><div class="line"></div><div class="below">NOME LEGÍVEL</div></div>
            <div class="sig-line"><div class="line"></div><div class="below">CPF / RG</div></div>
            <div class="sig-line"><div class="line"></div><div class="below">CARGO / SETOR</div></div>
            <div class="sig-line"><div class="line"></div><div class="below">DATA</div></div>
            <div class="stamp">CARIMBO — CONTRATANTE</div>
          </div>
          <div class="sig-box">
            <div class="sig-title">Contratada (System Engenharia)</div>
            <div class="sig-line"><div class="line"></div><div class="below">ASSINATURA</div></div>
            <div class="sig-line"><div class="line"></div><div class="below">NOME LEGÍVEL</div></div>
            <div class="sig-line"><div class="line"></div><div class="below">CPF / RG</div></div>
            <div class="sig-line"><div class="line"></div><div class="below">CARGO</div></div>
            <div class="sig-line"><div class="line"></div><div class="below">DATA</div></div>
            <div class="stamp">CARIMBO — CONTRATADA</div>
          </div>
        </div>
      </section>

      <footer>
        <div>Gerado em <span id="gerado"></span></div>
        <div class="print-only">(Via única — imprima 2 cópias)</div>
      </footer>

      <div class="actions">
        <button onclick="window.print()">Imprimir / Salvar PDF</button>
        <button onclick="limpar()">Limpar</button>
      </div>
    </section>
  </div>

  <script>
    (function(){
      const pad = n=>String(n).padStart(2,'0');
      const now = new Date();
      const fmtLong = new Intl.DateTimeFormat('pt-BR',{dateStyle:'full'});
      const fmtShort = new Intl.DateTimeFormat('pt-BR',{dateStyle:'medium', timeStyle:'short'});
      const numero = `TERMO-${now.getFullYear()}${pad(now.getMonth()+1)}${pad(now.getDate())}-${pad(now.getHours())}${pad(now.getMinutes())}`;

      document.getElementById('dataHoje').textContent = fmtLong.format(now);
      document.getElementById('numTermo').textContent = numero;
      document.getElementById('gerado').textContent = fmtShort.format(now);

      function montar(){
        const obra  = document.getElementById('obra').value.trim();
        const bloco = document.getElementById('bloco').value.trim();
        const area  = document.getElementById('area').value.trim();
        const esc   = document.getElementById('escopo').value.trim();
        const obs   = document.getElementById('obs').value.trim();

        const partes = [];
        if (bloco) partes.push(`${bloco}`);
        if (area)  partes.push(`${area}`);
        const localTxt = partes.length ? ` no ${partes.join(', ')}` : '';

        const obraTxt = obra ? ` no empreendimento <strong>${obra}</strong>` : '';
        const escTxt  = esc  ? `<strong>${esc}</strong>` : 'escopo descrito';
        const obsTxt  = obs  ? ` ${obs}` : '';

        const frase = `Declaro que, na data de <strong>${fmtLong.format(new Date())}</strong>, a <strong>System Engenharia</strong> entregou à <strong>Patrimar</strong> os serviços de ${escTxt}${localTxt}${obraTxt}.${obsTxt}`;
        document.getElementById('declaracao').innerHTML = frase;
      }

      ['obra','bloco','area','escopo','obs'].forEach(id=>{
        document.getElementById(id).addEventListener('input', montar, {passive:true});
      });

      montar();
    })();

    function limpar(){
      ['obra','bloco','area','escopo','obs'].forEach(id=>{ const el=document.getElementById(id); if(el) el.value=''; });
      const fmtLong = new Intl.DateTimeFormat('pt-BR',{dateStyle:'full'});
      document.getElementById('declaracao').innerHTML = `Declaro que, na data de <strong>${fmtLong.format(new Date())}</strong>, a <strong>System Engenharia</strong> entregou à <strong>Patrimar</strong> os serviços descritos acima.`;
    }
  </script>
</body>
</html>


